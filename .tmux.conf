# Improve colours
set -g  default-terminal   tmux-256color
set -ga terminal-overrides ",${TERM}:Tc"

# Prevent starting login shell
set -g default-command "${SHELL}"

# Status bar colours
set -g status-bg default    # Transparent
set -g status-fg '#70B32D'  # Mint green

# # Capture mouse (inhibits mouse region selection)
# set -g mouse-select-pane on

# Session creation
bind-key C command-prompt -p 'Start directory:' 'new-session -c  %%'

# Pane movement
bind-key j command-prompt -p 'Join pane from:'    'join-pane -s  %%'
bind-key k command-prompt -p 'Send pane to:'     'break-pane -dt %%'

# Window renumbering
bind-key R movew -r

# xterm-keys
setw -g xterm-keys on

# Pane selection disable repeat; use M-Arrow
bind-key      Left  select-pane -L
bind-key -n M-Left  select-pane -L
bind-key      Right select-pane -R
bind-key -n M-Right select-pane -R
bind-key      Up    select-pane -U
bind-key -n M-Up    select-pane -U
bind-key      Down  select-pane -D
bind-key -n M-Down  select-pane -D

# Window and session cycling
bind-key -n C-S-Left  previous-window
bind-key -n C-S-Right     next-window

bind-key -n M-S-Left  switch-client -p
bind-key -n M-S-Right switch-client -n

# Default prefix C-]
set-option -g prefix C-]
unbind-key C-b
bind-key C-] send-prefix

# Nested prefix C-^
bind-key -n C-^ send-prefix

# # Activity monitoring
# setw -g monitor-activity on
# set  -g visual-activity on
